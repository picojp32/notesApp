{"ast":null,"code":"import e, { useState as t, useEffect as n } from \"react\";\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n\nvar o = function () {\n  return (o = Object.assign || function (e) {\n    for (var t, n = 1, o = arguments.length; n < o; n++) for (var i in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);\n\n    return e;\n  }).apply(this, arguments);\n};\n\nvar i = \"styles-module_Editext__button__sxYQX\",\n    a = \"styles-module_Editext__input__2-M50\",\n    l = \"styles-module_Editext__main_container__2azCD\",\n    s = \"styles-module_Editext__editing_container__1C4d6\",\n    _ = \"styles-module_Editext__view_container__3oSYx\",\n    d = \"styles-module_Editext__buttons_container__2za5Q\",\n    r = \"styles-module_Editext__buttons_showButtonsOnHover__2Bfsd\",\n    u = \"styles-module_Editext__buttons_before_aligned__3Eg6w\",\n    c = \"styles-module_Editext__buttons_after_aligned__2ZHQz\",\n    m = \"styles-module_Editext__validation_message__1puii\",\n    v = \"styles-module_Editext__cancel_button__26sqr\",\n    f = \"styles-module_Editext__edit_button__310_J\",\n    x = \"styles-module_Editext__save_button__1Dlwo\",\n    p = \"styles-module_Editext__hide_default_icons__2k5RX\",\n    b = \"styles-module_Editext__hint__EGeV0\";\n\nfunction y() {\n  for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];\n\n  return Array.apply(void 0, e).filter(function (e) {\n    return e;\n  }).join(\" \");\n}\n\n!function (e, t) {\n  void 0 === t && (t = {});\n  var n = t.insertAt;\n\n  if (e && \"undefined\" != typeof document) {\n    var o = document.head || document.getElementsByTagName(\"head\")[0],\n        i = document.createElement(\"style\");\n    i.type = \"text/css\", \"top\" === n && o.firstChild ? o.insertBefore(i, o.firstChild) : o.appendChild(i), i.styleSheet ? i.styleSheet.cssText = e : i.appendChild(document.createTextNode(e));\n  }\n}('.styles-module_Editext__button__sxYQX {\\n  border-radius: 1px;\\n  outline: none;\\n  padding: 0.6em;\\n  min-width: 30px;\\n  height: 100%;\\n  border-color: rgb(216, 216, 216) rgb(209, 209, 209) rgb(186, 186, 186);\\n  border-style: solid;\\n  border-width: 1px;\\n}\\n\\n.styles-module_Editext__button__sxYQX:hover {\\n  cursor: pointer;\\n  background-color: rgba(241, 241, 241, 1);\\n}\\n\\n.styles-module_Editext__input__2-M50 {\\n  width: 100%;\\n  border: 1px solid rgb(212, 212, 212);\\n  padding: 0.6em;\\n  outline: none;\\n}\\n\\n.styles-module_Editext__main_container__2azCD {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.styles-module_Editext__editing_container__1C4d6 {\\n  display: flex;\\n  flex: 1;\\n  align-items: center;\\n}\\n\\n.styles-module_Editext__view_container__3oSYx {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.styles-module_Editext__buttons_container__2za5Q {\\n  display: flex;\\n}\\n\\n.styles-module_Editext__buttons_showButtonsOnHover__2Bfsd .styles-module_Editext__buttons_container__2za5Q {\\n  visibility: hidden;\\n}\\n\\n.styles-module_Editext__buttons_showButtonsOnHover__2Bfsd:hover .styles-module_Editext__buttons_container__2za5Q {\\n  visibility: visible;\\n}\\n\\n.styles-module_Editext__buttons_before_aligned__3Eg6w {\\n  margin-right: 5px;\\n}\\n\\n.styles-module_Editext__buttons_after_aligned__2ZHQz {\\n  margin-left: 5px;\\n}\\n\\n.styles-module_Editext__validation_message__1puii {\\n  font-weight: 500;\\n  color: crimson;\\n  font-size: 0.7em;\\n  margin-top: 3px;\\n}\\n\\n.styles-module_Editext__cancel_button__26sqr {\\n  color: crimson;\\n}\\n\\n.styles-module_Editext__cancel_button__26sqr::before {\\n  content: \"\\\\2715\";\\n  margin: 3px;\\n}\\n\\n.styles-module_Editext__edit_button__310_J {\\n  color: #000;\\n}\\n\\n.styles-module_Editext__edit_button__310_J::before {\\n  content: \"\\\\270E\";\\n  margin: 3px;\\n}\\n\\n.styles-module_Editext__save_button__1Dlwo {\\n  color: darkgreen;\\n  margin-right: 3px;\\n}\\n\\n.styles-module_Editext__save_button__1Dlwo::before {\\n  content: \"\\\\2713\";\\n  margin: 3px;\\n}\\n\\n.styles-module_Editext__hide_default_icons__2k5RX::before {\\n  content: none;\\n  margin: 0;\\n}\\n\\n.styles-module_Editext__hint__EGeV0 {\\n  font-weight: 500;\\n  color: lightslategray;\\n  font-size: 0.7em;\\n  margin-top: 3px;\\n  text-align: left;\\n}\\n');\nvar E = \"main-container\",\n    g = \"view-container\",\n    h = \"edit-container\",\n    w = \"edit-button\",\n    C = \"save-button\",\n    N = \"cancel-button\",\n    O = \"input\",\n    B = \"hint\";\n\nfunction P(P) {\n  var D,\n      k = t(P.editing),\n      I = k[0],\n      z = k[1],\n      F = t(!0),\n      U = F[0],\n      Q = F[1],\n      V = t(P.value || \"\"),\n      K = V[0],\n      H = V[1],\n      S = t(void 0),\n      R = S[0],\n      T = S[1],\n      X = t(!1),\n      Y = X[0],\n      A = X[1],\n      j = e.createRef(),\n      q = e.createRef(),\n      J = e.createRef();\n\n  function M(e) {\n    var t,\n        n = [13, \"Enter\"].some(function (t) {\n      return e.key === t || e.code === t;\n    }),\n        o = [27, \"Escape\", \"Esc\"].some(function (t) {\n      return e.code === t || e.key === t;\n    });\n    n && (P.submitOnEnter && te(), null == e || e.preventDefault()), o && (P.cancelOnEscape && $(), e.preventDefault()), (null === (t = P.inputProps) || void 0 === t ? void 0 : t.onKeyDown) && P.inputProps.onKeyDown(e);\n  }\n\n  function G(e) {\n    var t,\n        n,\n        o = null === (t = J.current) || void 0 === t ? void 0 : t.contains(null == e ? void 0 : e.relatedTarget);\n    P.cancelOnUnfocus && !o && $(), P.submitOnUnfocus && !o && !P.cancelOnUnfocus && te(), (null === (n = P.inputProps) || void 0 === n ? void 0 : n.onBlur) && P.inputProps.onBlur(e);\n  }\n\n  function Z(e) {\n    var t;\n    A(!0), P.startEditingOnFocus && z(!0), (null === (t = P.viewProps) || void 0 === t ? void 0 : t.onFocus) && P.viewProps.onFocus(e);\n  }\n\n  function L(e) {\n    var t,\n        n = [13, \"Enter\"].some(function (t) {\n      return e.key === t || e.code === t;\n    }) && Y && P.startEditingOnEnter;\n    n && e.preventDefault(), n && z(!0), (null === (t = P.viewProps) || void 0 === t ? void 0 : t.onKeyDown) && P.viewProps.onKeyDown(e);\n  }\n\n  function W(e) {\n    var t, n;\n    Q(!0), H(e.target.value), null === (n = null === (t = P.inputProps) || void 0 === t ? void 0 : t.onChange) || void 0 === n || n.call(t, e);\n  }\n\n  function $() {\n    var e,\n        t = null != R ? R : P.value;\n    Q(!0), z(!1), H(t), null === (e = P.onCancel) || void 0 === e || e.call(P, t, P.inputProps);\n  }\n\n  function ee() {\n    var e;\n    z(!0), null === (e = P.onEditingStart) || void 0 === e || e.call(P, K, P.inputProps);\n  }\n\n  function te() {\n    if (\"function\" == typeof P.validation && !P.validation(K)) return Q(!1), void (P.onValidationFail && P.onValidationFail(K));\n    z(!1), T(K), P.onSave(K, P.inputProps);\n  }\n\n  n(function () {\n    P.cancelOnUnfocus && P.submitOnUnfocus && console.warn(\"EdiText: Both `cancelOnUnfocus` and `submitOnUnfocus` are set to true. `submitOnUnfocus` is ignored in this case. Please remove one of these.\");\n  }, [P.cancelOnUnfocus, P.submitOnUnfocus]), n(function () {\n    void 0 !== P.value && (H(P.value), T(P.value)), void 0 !== P.editing && z(P.editing);\n  }, [P.editing, P.value]);\n\n  var ne,\n      oe,\n      ie,\n      ae,\n      le,\n      se,\n      _e,\n      de = I ? function () {\n    var t = \"textarea\" === P.type ? e.createElement(\"textarea\", o({\n      className: a,\n      editext: O,\n      tabIndex: P.tabIndex\n    }, P.inputProps, {\n      onBlur: G,\n      value: K,\n      onChange: W,\n      autoFocus: I\n    })) : e.createElement(\"input\", o({\n      className: a,\n      editext: O,\n      tabIndex: P.tabIndex\n    }, P.inputProps, {\n      onKeyDown: M,\n      onBlur: G,\n      value: K,\n      type: P.type || \"text\",\n      onChange: W,\n      autoFocus: I\n    })),\n        n = y(\"\" + i, \"\" + x, P.hideIcons && \"\" + p),\n        l = P.saveButtonClassName || n,\n        _ = y(\"\" + i, \"\" + v, P.hideIcons && \"\" + p),\n        r = P.cancelButtonClassName || _,\n        f = s;\n\n    P.editContainerClassName && (f = P.editContainerClassName), P.viewContainerClassName && (f = P.viewContainerClassName);\n    var E = P.buttonsAlign || \"after\",\n        g = y(d, \"before\" === E && \"\" + u, \"after\" === E && \"\" + c);\n    return e.createElement(\"div\", null, e.createElement(\"div\", {\n      ref: q,\n      className: f,\n      editext: h\n    }, \"after\" === E && t, e.createElement(\"div\", {\n      className: g,\n      ref: J\n    }, e.createElement(\"button\", {\n      ref: j,\n      editext: C,\n      type: \"button\",\n      className: l,\n      onClick: te\n    }, P.saveButtonContent), e.createElement(\"button\", {\n      type: \"button\",\n      editext: N,\n      className: r,\n      onClick: $\n    }, P.cancelButtonContent)), \"before\" === E && t), !U && !P.onValidationFail && e.createElement(\"div\", {\n      className: m\n    }, P.validationMessage || \"Invalid Value\"), P.hint && e.createElement(\"div\", {\n      className: b,\n      editext: B\n    }, P.hint));\n  }() : (ne = y(\"\" + i, \"\" + f, P.hideIcons && \"\" + p), oe = P.editButtonClassName || ne, ie = y(P.viewContainerClassName || _, P.showButtonsOnHover && \"\" + r), ae = P.buttonsAlign || \"after\", le = y(d, \"before\" === ae && \"\" + u, \"after\" === ae && \"\" + c), se = P.editOnViewClick ? ee : void 0, _e = \"function\" == typeof P.renderValue ? P.renderValue(K) : K, e.createElement(\"div\", {\n    className: ie,\n    editext: g\n  }, \"after\" === ae && e.createElement(\"div\", o({\n    tabIndex: P.tabIndex\n  }, P.viewProps, {\n    onKeyDown: L,\n    onFocus: Z,\n    onClick: se,\n    editext: \"view\"\n  }), _e), e.createElement(\"div\", {\n    className: le\n  }, e.createElement(\"button\", {\n    type: \"button\",\n    editext: w,\n    className: oe,\n    onClick: ee\n  }, P.editButtonContent)), \"before\" === ae && e.createElement(\"div\", o({\n    tabIndex: P.tabIndex\n  }, P.viewProps, {\n    onKeyDown: L,\n    onFocus: Z,\n    onClick: se,\n    editext: g\n  }), _e))),\n      re = y((null === (D = P.containerProps) || void 0 === D ? void 0 : D.className) || P.mainContainerClassName || l, P.className);\n\n  return e.createElement(\"div\", o({}, P.containerProps, {\n    className: re,\n    editext: E\n  }), de);\n}\n\nexport default P;","map":{"version":3,"sources":["../src/utils.ts","../node_modules/style-inject/dist/style-inject.es.js","../src/index.tsx"],"names":["classnames","Array","args","filter","a","join","dataAttributes","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","EdiText","props","_b","editingInternal","setEditingInternal","useState","editing","_c","valid","setValid","_d","valueInternal","setValueInternal","value","_e","savedValue","setSavedValue","undefined","_f","viewFocused","setViewFocused","saveButton","React","createRef","editingContainer","editingButtons","useEffect","cancelOnUnfocus","submitOnUnfocus","console","warn","handleKeyDown","e","isEnter","some","c","key","code","isEscape","submitOnEnter","handleSave","preventDefault","cancelOnEscape","handleCancel","inputProps","onKeyDown","handleOnBlur","isEditingButton","current","contains","relatedTarget","onBlur","handleViewFocus","startEditingOnFocus","viewProps","onFocus","handleKeyDownForView","startEditing","startEditingOnEnter","handleInputChange","target","onChange","val","onCancel","handleActivateEditMode","onEditingStart","validation","onValidationFail","onSave","className","styles","editext","tabIndex","autoFocus","inputElem","saveButtonDefaultClasses","hideIcons","saveButtonClass","saveButtonClassName","cancelButtonDefaultClasses","cancelButtonClass","cancelButtonClassName","editContainerClass","editContainerClassName","viewContainerClassName","alignment","buttonsAlign","buttonsContainerClass","onClick","saveButtonContent","cancelButtonContent","validationMessage","hint","editButtonDefaultClasses","editButtonClass","editButtonClassName","viewContainerClass","showButtonsOnHover","viewClickHandler","editOnViewClick","_value","renderValue","editButtonContent","mode","_renderEditingMode","clsName","containerProps","mainContainerClassName"],"mappings":"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","sourcesContent":["export function classnames(...args: any[]) {\n  /**\n   * Our simple classnames replica.\n   * This is enough for me.\n   */\n  return Array(...args)\n    .filter((a) => a)\n    .join(' ');\n}\n\nexport const dataAttributes = {\n  /**\n   * This is for the end user. You can use below attributes if you want to\n   * style this component with `styled-components` or something like that.\n   * Example notation:\n   * <div class=\"EdiText_Buttons__container_34fgAsdf\" editext=\"button-container\">\n   * Example usage with styled-components:\n\n    const StyledEdiText = styled(EdiText)`\n      button[editext=\"edit-button\"] {\n        color: #000;\n      }\n      button[editext=\"save-button\"] {\n        background:#587C0C;\n        color: #fff;\n      }\n      input, textarea {\n        background: #1D2225;\n        color: #F4C361;\n        font-weight: bold;\n      }\n    `\n   */\n  mainContainer: 'main-container',\n  viewContainer: 'view-container',\n  buttonContainer: 'button-container',\n  editContainer: 'edit-container',\n  editButton: 'edit-button',\n  saveButton: 'save-button',\n  cancelButton: 'cancel-button',\n  input: 'input',\n  hint: 'hint',\n};\n\nexport const cancelOnConflictMessage =\n  'EdiText: Both `cancelOnUnfocus` and `submitOnUnfocus` are set to true. ' +\n  '`submitOnUnfocus` is ignored in this case. Please remove one of these.';\n\nexport const defaultValidationMessage = 'Invalid Value';\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","/* eslint-disable react/prop-types */\nimport React, {\n  useEffect,\n  KeyboardEvent,\n  FocusEvent,\n  useState,\n  ChangeEvent,\n} from 'react';\nimport styles from './styles.module.css';\nimport {\n  cancelOnConflictMessage,\n  dataAttributes,\n  classnames,\n  defaultValidationMessage,\n} from './utils';\n\nexport type EdiTextType =\n  | 'text'\n  | 'textarea'\n  | 'email'\n  | 'number'\n  | 'date'\n  | 'datetime-local'\n  | 'time'\n  | 'month'\n  | 'url'\n  | 'week'\n  | 'tel';\n\nexport type ButtonsAlignment = 'after' | 'before';\n\nexport type InputProps =\n  | React.DetailedHTMLProps<\n      React.InputHTMLAttributes<HTMLInputElement>,\n      HTMLInputElement\n    >\n  | React.DetailedHTMLProps<\n      React.TextareaHTMLAttributes<HTMLTextAreaElement>,\n      HTMLTextAreaElement\n    >;\nexport interface EdiTextProps {\n  /**\n   * Props to be passed to input element.\n   * Any kind of valid DOM attributes are welcome\n   */\n  inputProps?: InputProps;\n  /**\n   * Props to be passed to div element that shows the text.\n   * You can specify your own `styles` or `className`\n   */\n  viewProps?: React.DetailedHTMLProps<\n    React.HTMLAttributes<HTMLDivElement>,\n    HTMLDivElement\n  >;\n  /**\n   * Class name for the root container of the EdiText.\n   */\n  className?: string;\n  /**\n   * Props to be passed to div element that is container for all elements.\n   * You can use this if you want to style or select the whole container.\n   */\n  containerProps?: React.DetailedHTMLProps<\n    React.HTMLAttributes<HTMLDivElement>,\n    HTMLDivElement\n  >;\n  /**\n   * Value of the content [in view mode] and input [in edit mode]\n   */\n  value: string;\n  /**\n   * A simple hint message appears at the bottom of input element.\n   * Any valid element is allowed.\n   */\n  hint?: React.ReactNode;\n  /**\n   * If validation fails this message will appear\n   */\n  validationMessage?: any;\n  /** Pass your own validation function.\n   * takes one param -> `value`.\n   * It must return `true` or `false`\n   */\n  validation?: (...args: string[]) => boolean;\n  /**\n   * will be called when validation fails.\n   * takes one param <value> which is the current value of input\n   */\n  onValidationFail?: (...args: string[]) => any;\n  /**\n   * Input type. Possible options are:\n   * `text`, `number`, `email`, `textarea`, `date`,\n   * `datetime-local`, `time`, `month`, `url`, `week`, `tel`\n   * @default \"text\"\n   */\n  type?: EdiTextType;\n  /**\n   * will be called when user clicked cancel button\n   * @param value the current value of input when cancelled.\n   * @param inputProps inputProps that passed to the element.\n   */\n  onCancel?: (value: any, inputProps?: InputProps) => any;\n  /**\n   * will be called when user clicked save button.\n   * @param value the current value of input\n   * @param inputProps inputProps that passed to the element.\n   */\n  onSave: (value: any, inputProps?: InputProps) => any;\n  /**\n   * Custom class name for SAVE button.\n   * */\n  saveButtonClassName?: string;\n  /**\n   * Custom class name for EDIT button.\n   * */\n  editButtonClassName?: string;\n  /**\n   * Custom class name for CANCEL button. */\n  cancelButtonClassName?: string;\n  /**\n   * Content for CANCEL button. Any valid element and node are allowed. */\n  cancelButtonContent?: any;\n  /**\n   * Content for SAVE button. Any valid element and node are allowed. */\n  saveButtonContent?: any;\n  /**\n   * Content for EDIT button. Any valid element and node are allowed. */\n  editButtonContent?: any;\n  /**\n   * Set it to `true` if you don't want to see default icons\n   * on action buttons.See Examples page for more details.\n   * @default \"false\"\n   */\n  hideIcons?: boolean;\n  /**\n   * Decides whether buttons will be located _BEFORE_ or _AFTER_\n   * the input element.\n   * @default \"after\"\n   */\n  buttonsAlign?: ButtonsAlignment;\n  /**\n   * Custom class name for the container in view mode.\n   */\n  viewContainerClassName?: string;\n  /**\n   * Custom class name for the container in edit mode.\n   * Will be set to viewContainerClassName if you set it and omit this.\n   */\n  editContainerClassName?: string;\n  /**\n   * Custom class name for the top-level main container.\n   * @deprecated please use `containerProps` instead of this\n   */\n  mainContainerClassName?: string;\n  /**\n   * Set it to `true` if you want clicking on the view to activate the editor.\n   * @default false\n   */\n  editOnViewClick?: boolean;\n  /**\n   * Set it to `true` if you want the view state to be edit mode\n   * @default false\n   */\n  editing?: boolean;\n  /**\n   * Will be called when the editing mode is active.\n   *\n   * @param value the value of the input at the time when editing started.\n   * @param inputProps inputProps that passed to the element.\n   */\n  onEditingStart?: (value: any, inputProps?: InputProps) => any;\n  /**\n   * Set it to `true` if you want to display action buttons **only**\n   * when the text hovered by the user.\n   * @default false\n   */\n  showButtonsOnHover?: boolean;\n  /**\n   * Set it to `true` if you want to submit the form when `Enter`\n   * is pressed.\n   * @default false\n   */\n  submitOnEnter?: boolean;\n  /**\n   * Set it to `true` if you want to cancel the form when `Escape`\n   * is pressed.\n   * @default false\n   */\n  cancelOnEscape?: boolean;\n  /**\n   * Set it to `true` if you want to cancel the form when the input\n   * is unfocused.\n   * @default false\n   */\n  cancelOnUnfocus?: boolean;\n  /**\n   * Set it to `true` if you want to save the form when the input\n   * is unfocused.\n   * @default false\n   */\n  submitOnUnfocus?: boolean;\n  /**\n   * An helper shortcut in case you want to pass the same tabIndex to both\n   * `viewProps` and `inputProps`.\n   *\n   * NOTE: This will be overriden if you pass the tabIndex in `viewProps`\n   * or `inputProps`.\n   */\n  tabIndex?: number;\n  /**\n   * Activates the edit mode when the view container is in focus.\n   */\n  startEditingOnFocus?: boolean;\n  /**\n   * Activates the edit mode when the `Enter` key is pressed if the view\n   * container is focused.\n   *\n   * NOTE: This requires the element to be in focus.\n   */\n  startEditingOnEnter?: boolean;\n  /**\n   * Custom render method for the content in the view mode.\n   * Use this prop to customize the displayed value in view mode.\n   * The return value from this function will be rendered in view mode.\n   * You can return string or JSX. Both are allowed.\n   */\n  renderValue?: (value: any) => any;\n}\n\nfunction EdiText(props: EdiTextProps) {\n  // state\n  const [editingInternal, setEditingInternal] = useState(props.editing);\n  const [valid, setValid] = useState<boolean>(true);\n  const [valueInternal, setValueInternal] = useState<string>(props.value || '');\n  const [savedValue, setSavedValue] = useState<string | undefined>(undefined);\n  const [viewFocused, setViewFocused] = useState<boolean>(false);\n  // refs\n  const saveButton = React.createRef<HTMLButtonElement>();\n  const editingContainer = React.createRef<HTMLDivElement>();\n  const editingButtons = React.createRef<any>();\n\n  useEffect(() => {\n    if (props.cancelOnUnfocus && props.submitOnUnfocus) {\n      console.warn(cancelOnConflictMessage);\n    }\n  }, [props.cancelOnUnfocus, props.submitOnUnfocus]);\n\n  useEffect(() => {\n    if (props.value !== undefined) {\n      setValueInternal(props.value);\n      setSavedValue(props.value);\n    }\n\n    if (props.editing !== undefined) {\n      setEditingInternal(props.editing);\n    }\n  }, [props.editing, props.value]);\n\n  function handleKeyDown(e: KeyboardEvent<any>): void {\n    const isEnter = [13, 'Enter'].some((c) => e.key === c || e.code === c);\n    const isEscape = [27, 'Escape', 'Esc'].some(\n      (c) => e.code === c || e.key === c\n    );\n    if (isEnter) {\n      props.submitOnEnter && handleSave();\n      e?.preventDefault();\n    }\n    if (isEscape) {\n      props.cancelOnEscape && handleCancel();\n      e.preventDefault();\n    }\n    props.inputProps?.onKeyDown && props.inputProps.onKeyDown(e);\n  }\n\n  function handleOnBlur(e: FocusEvent<any>): void {\n    const isEditingButton = editingButtons.current?.contains(e?.relatedTarget);\n    props.cancelOnUnfocus && !isEditingButton && handleCancel();\n    props.submitOnUnfocus &&\n      !isEditingButton &&\n      !props.cancelOnUnfocus &&\n      handleSave();\n    props.inputProps?.onBlur && props.inputProps.onBlur(e);\n  }\n\n  function handleViewFocus(e: FocusEvent<HTMLDivElement>): void {\n    setViewFocused(true);\n    props.startEditingOnFocus && setEditingInternal(true);\n    props.viewProps?.onFocus && props.viewProps.onFocus(e);\n  }\n\n  function handleKeyDownForView(e: KeyboardEvent<any>): void {\n    const isEnter = [13, 'Enter'].some((c) => e.key === c || e.code === c);\n    const startEditing = isEnter && viewFocused && props.startEditingOnEnter;\n    startEditing && e.preventDefault();\n    startEditing && setEditingInternal(true);\n    props.viewProps?.onKeyDown && props.viewProps.onKeyDown(e);\n  }\n\n  function handleInputChange(\n    e: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\n  ): void {\n    setValid(true);\n    setValueInternal(e.target.value);\n    props.inputProps?.onChange?.(e as any);\n  }\n\n  function handleCancel(): void {\n    const val = savedValue ?? props.value;\n    setValid(true);\n    setEditingInternal(false);\n    setValueInternal(val);\n    props.onCancel?.(val, props.inputProps);\n  }\n\n  function handleActivateEditMode(): void {\n    setEditingInternal(true);\n    props.onEditingStart?.(valueInternal, props.inputProps);\n  }\n\n  function handleSave(): void {\n    if (typeof props.validation === 'function') {\n      const isValid = props.validation(valueInternal);\n      if (!isValid) {\n        setValid(false);\n        props.onValidationFail && props.onValidationFail(valueInternal);\n        return;\n      }\n    }\n    setEditingInternal(false);\n    setSavedValue(valueInternal);\n    props.onSave(valueInternal, props.inputProps);\n  }\n\n  function _renderInput() {\n    if (props.type === 'textarea') {\n      return (\n        <textarea\n          className={styles.Editext__input}\n          // @ts-ignore\n          editext={dataAttributes.input}\n          // this is here because,\n          // we still allow people to pass the tabIndex via inputProps\n          // also backward compatibility.\n          tabIndex={props.tabIndex}\n          {...(props.inputProps as React.DetailedHTMLProps<\n            React.TextareaHTMLAttributes<HTMLTextAreaElement>,\n            HTMLTextAreaElement\n          >)}\n          onBlur={handleOnBlur}\n          value={valueInternal}\n          onChange={handleInputChange}\n          autoFocus={editingInternal}\n        />\n      );\n    } else {\n      return (\n        <input\n          className={styles.Editext__input}\n          // @ts-ignore\n          editext={dataAttributes.input}\n          // this is here because,\n          // we still allow people to pass the tabIndex via inputProps\n          // also backward compatibility.\n          tabIndex={props.tabIndex}\n          {...props.inputProps}\n          onKeyDown={handleKeyDown}\n          onBlur={handleOnBlur}\n          value={valueInternal}\n          type={props.type || 'text'}\n          onChange={handleInputChange}\n          autoFocus={editingInternal}\n        />\n      );\n    }\n  }\n\n  function _renderEditingMode() {\n    const inputElem = _renderInput();\n    // calculate save button classes\n    const saveButtonDefaultClasses = classnames(\n      `${styles.Editext__button}`,\n      `${styles.Editext__save_button}`,\n      props.hideIcons && `${styles.Editext__hide_default_icons}`\n    );\n    const saveButtonClass =\n      props.saveButtonClassName || saveButtonDefaultClasses;\n    // calculate cancel button classes\n    const cancelButtonDefaultClasses = classnames(\n      `${styles.Editext__button}`,\n      `${styles.Editext__cancel_button}`,\n      props.hideIcons && `${styles.Editext__hide_default_icons}`\n    );\n    const cancelButtonClass =\n      props.cancelButtonClassName || cancelButtonDefaultClasses;\n    let editContainerClass = styles.Editext__editing_container;\n    if (props.editContainerClassName)\n      editContainerClass = props.editContainerClassName;\n    if (props.viewContainerClassName)\n      editContainerClass = props.viewContainerClassName;\n\n    const alignment = props.buttonsAlign || 'after';\n    const buttonsContainerClass = classnames(\n      styles.Editext__buttons_container,\n      alignment === 'before' && `${styles.Editext__buttons_before_aligned}`,\n      alignment === 'after' && `${styles.Editext__buttons_after_aligned}`\n    );\n    return (\n      <div>\n        <div\n          ref={editingContainer}\n          className={editContainerClass}\n          // @ts-ignore\n          editext={dataAttributes.editContainer}\n        >\n          {alignment === 'after' && inputElem}\n          <div className={buttonsContainerClass} ref={editingButtons}>\n            <button\n              ref={saveButton}\n              // @ts-ignore\n              editext={dataAttributes.saveButton}\n              type=\"button\"\n              className={saveButtonClass}\n              onClick={handleSave}\n            >\n              {props.saveButtonContent}\n            </button>\n            <button\n              type=\"button\"\n              // @ts-ignore\n              editext={dataAttributes.cancelButton}\n              className={cancelButtonClass}\n              onClick={handleCancel}\n            >\n              {props.cancelButtonContent}\n            </button>\n          </div>\n          {alignment === 'before' && inputElem}\n        </div>\n        {!valid && !props.onValidationFail && (\n          <div className={styles.Editext__validation_message}>\n            {props.validationMessage || defaultValidationMessage}\n          </div>\n        )}\n        {props.hint && (\n          <div\n            className={styles.Editext__hint}\n            // @ts-ignore\n            editext={dataAttributes.hint}\n          >\n            {props.hint}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  function _renderViewMode() {\n    // calculate edit button classes\n    const editButtonDefaultClasses = classnames(\n      `${styles.Editext__button}`,\n      `${styles.Editext__edit_button}`,\n      props.hideIcons && `${styles.Editext__hide_default_icons}`\n    );\n    const editButtonClass =\n      props.editButtonClassName || editButtonDefaultClasses;\n    const viewContainerClass = classnames(\n      props.viewContainerClassName || styles.Editext__view_container,\n      props.showButtonsOnHover &&\n        `${styles.Editext__buttons_showButtonsOnHover}`\n    );\n    const alignment = props.buttonsAlign || 'after';\n    const buttonsContainerClass = classnames(\n      styles.Editext__buttons_container,\n      alignment === 'before' && `${styles.Editext__buttons_before_aligned}`,\n      alignment === 'after' && `${styles.Editext__buttons_after_aligned}`\n    );\n    const viewClickHandler = props.editOnViewClick\n      ? handleActivateEditMode\n      : undefined;\n    const _value =\n      typeof props.renderValue === 'function'\n        ? props.renderValue(valueInternal)\n        : valueInternal;\n    return (\n      <div\n        className={viewContainerClass}\n        // @ts-ignore\n        editext={dataAttributes.viewContainer}\n      >\n        {alignment === 'after' && (\n          <div\n            // this is here because,\n            // we still allow people to pass the tabIndex via inputProps\n            // also backward compatibility.\n            tabIndex={props.tabIndex}\n            {...props.viewProps}\n            onKeyDown={handleKeyDownForView}\n            onFocus={handleViewFocus}\n            onClick={viewClickHandler}\n            // @ts-ignore\n            editext=\"view\"\n          >\n            {_value}\n          </div>\n        )}\n        <div className={buttonsContainerClass}>\n          <button\n            type=\"button\"\n            // @ts-ignore\n            editext={dataAttributes.editButton}\n            className={editButtonClass}\n            onClick={handleActivateEditMode}\n          >\n            {props.editButtonContent}\n          </button>\n        </div>\n        {alignment === 'before' && (\n          <div\n            // this is here because,\n            // we still allow people to pass the tabIndex via inputProps\n            // also backward compatibility.\n            tabIndex={props.tabIndex}\n            {...props.viewProps}\n            onKeyDown={handleKeyDownForView}\n            onFocus={handleViewFocus}\n            onClick={viewClickHandler}\n            // @ts-ignore\n            editext={dataAttributes.viewContainer}\n          >\n            {_value}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  const mode = editingInternal ? _renderEditingMode() : _renderViewMode();\n  const clsName = classnames(\n    props.containerProps?.className ||\n      props.mainContainerClassName ||\n      styles.Editext__main_container,\n    props.className\n  );\n  return (\n    <div\n      {...props.containerProps}\n      className={clsName}\n      // @ts-ignore\n      editext={dataAttributes.mainContainer}\n    >\n      {mode}\n    </div>\n  );\n}\n\nexport default EdiText;\n"]},"metadata":{},"sourceType":"module"}